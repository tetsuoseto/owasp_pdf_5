# Приложение D: Управление и проверка безопасного программирования с использованием ИИ

## Цель

В этой главе определяются базовые организационные меры контроля для безопасного и эффективного использования инструментов кодирования с поддержкой ИИ в процессе разработки программного обеспечения, обеспечивающие безопасность и прослеживаемость на всех этапах жизненного цикла разработки программного обеспечения (SDLC).

---

## AD.1 Рабочий процесс безопасного программирования с помощью ИИ

Интегрировать инструменты ИИ в жизненный цикл безопасной разработки программного обеспечения (SSDLC) организации без ослабления существующих мер безопасности.

|   #    | Description                                                                                                                                                                       | Level | Role |
| :----: | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| AD.1.1 | Проверьте, что задокументированный рабочий процесс описывает, когда и как инструменты ИИ могут создавать, рефакторить или проверять код.                                          |   1   | D/V  |
| AD.1.2 | Проверьте, что рабочий процесс соответствует каждой фазе SSDLC (проектирование, реализация, обзор кода, тестирование, развертывание).                                             |   2   |  D   |
| AD.1.3 | Проверьте, что метрики (например, плотность уязвимостей, среднее время обнаружения) собираются для кода, созданного ИИ, и сравниваются с показателями, полученными только людьми. |   3   | D/V  |

---

## AD.2 Квалификация инструмента ИИ и моделирование угроз

Убедитесь, что инструменты кодирования на базе ИИ оцениваются с точки зрения возможностей безопасности, рисков и воздействия на цепочку поставок перед их внедрением.

|   #    | Description                                                                                                                                                                          | Level | Role |
| :----: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | :---: | :--: |
| AD.2.1 | Убедитесь, что модель угроз для каждого ИИ-инструмента включает идентификацию рисков неправильного использования, инверсии модели, утечки данных и рисков цепочки зависимостей.      |   1   | D/V  |
| AD.2.2 | Убедитесь, что оценки инструментов включают статический/динамический анализ любых локальных компонентов и оценку SaaS конечных точек (TLS, аутентификация/авторизация, логирование). |   2   |  D   |
| AD.2.3 | Убедитесь, что оценки соответствуют признанной методологии и выполняются повторно после крупных изменений версии.                                                                    |   3   | D/V  |

---

## AD.3 Безопасное управление подсказками и контекстом

Предотвращайте утечку секретов, защищённого кода и личных данных при создании подсказок или контекстов для моделей ИИ.

|   #    | Description                                                                                                                                        | Level | Role |
| :----: | -------------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| AD.3.1 | Убедитесь, что письменные рекомендации запрещают отправку секретов, учетных данных или засекреченных данных в подсказках.                          |   1   | D/V  |
| AD.3.2 | Проверьте, что технические средства контроля (клиентская редакция, утвержденные фильтры контекста) автоматически удаляют конфиденциальные данные.  |   2   |  D   |
| AD.3.3 | Проверьте, что запросы и ответы токенизированы, зашифрованы при передаче и хранении, а сроки хранения соответствуют политике классификации данных. |   3   | D/V  |

---

## AD.4 Проверка кода, сгенерированного ИИ

Обнаруживайте и устраняйте уязвимости, внесенные результатами работы ИИ, до слияния или развертывания кода.

|   #    | Description                                                                                                                                                                                          | Level | Role |
| :----: | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| AD.4.1 | Убедитесь, что код, сгенерированный ИИ, всегда проходит проверку человеком.                                                                                                                          |   1   | D/V  |
| AD.4.2 | Убедитесь, что автоматические сканеры (SAST/IAST/DAST) запускаются для каждого pull request, содержащего сгенерированный ИИ код, и блокируют слияния при обнаружении критических проблем.            |   2   |  D   |
| AD.4.3 | Проверьте, что дифференциальное мутирование (fuzz testing) или тесты, основанные на свойствах, подтверждают безопасность критически важных поведений (например, проверку ввода, логику авторизации). |   3   | D/V  |

---

## AD.5 Объяснимость и Прослеживаемость Предложений по Коду

Предоставляйте аудиторам и разработчикам информацию о том, почему было сделано предложение и как оно развивалось.

|   #    | Description                                                                                                                                                                     | Level | Role |
| :----: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| AD.5.1 | Проверьте, что пары запрос/ответ регистрируются с идентификаторами коммитов.                                                                                                    |   1   | D/V  |
| AD.5.2 | Проверьте, что разработчики могут отображать ссылки на модели (фрагменты обучения, документацию), поддерживающие предложение.                                                   |   2   |  D   |
| AD.5.3 | Убедитесь, что отчеты по объяснимости хранятся вместе с артефактами проектирования и упоминаются в обзорах безопасности, удовлетворяя принципам прослеживаемости ISO/IEC 42001. |   3   | D/V  |

---

## AD.6 Непрерывная обратная связь и дообучение модели

Повышайте безопасность модели с течением времени, предотвращая негативный дрейф.

|   #    | Description                                                                                                                                                                                                                  | Level | Role |
| :----: | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| AD.6.1 | Проверьте, что разработчики могут помечать небезопасные или несоответствующие предложения, и что эти пометки отслеживаются.                                                                                                  |   1   | D/V  |
| AD.6.2 | Убедитесь, что агрегированная обратная связь используется для периодической донастройки или генерации с расширенным поиском на основе проверенных корпусов по безопасному кодированию (например, OWASP Cheat Sheets).        |   2   |  D   |
| AD.6.3 | Проверьте, что система оценки с замкнутым циклом выполняет регрессионные тесты после каждой донастройки; показатели безопасности должны соответствовать или превосходить предыдущие эталонные значения перед развертыванием. |   3   | D/V  |

---

### Ссылки

* [NIST AI Risk Management Framework 1.0](https://nvlpubs.nist.gov/nistpubs/ai/nist.ai.100-1.pdf)
* [ISO/IEC 42001:2023 — AI Management Systems Requirements](https://www.iso.org/standard/81230.html)
* [OWASP Secure Coding Practices — Quick Reference Guide](https://owasp.org/www-project-secure-coding-practices-quick-reference-guide/)

