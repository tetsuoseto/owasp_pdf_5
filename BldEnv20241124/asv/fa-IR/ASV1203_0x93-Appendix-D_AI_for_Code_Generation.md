# پیوست D: حاکمیت و تأیید صحت کدنویسی امن با کمک هوش مصنوعی

## هدف

این فصل کنترل‌های سازمانی پایه‌ای برای استفاده ایمن و مؤثر از ابزارهای کدنویسی تحت کمک هوش مصنوعی در طول توسعه نرم‌افزار را تعریف می‌کند، تا امنیت و قابلیت ردیابی در سراسر چرخه حیات توسعه نرم‌افزار (SDLC) تضمین شود.

---

## AD.1 جریان کاری کدگذاری امن با پشتیبانی هوش مصنوعی

ابزارهای هوش مصنوعی را در چرخه عمر توسعه نرم‌افزار امن (SSDLC) سازمان ادغام کنید بدون اینکه نقاط کنترل امنیتی موجود تضعیف شوند.

|   #    | Description                                                                                                                                                      | Level | Role |
| :----: | ---------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| AD.1.1 | تأیید کنید که یک گردش کار مستند شده توضیح می‌دهد چه زمانی و چگونه ابزارهای هوش مصنوعی ممکن است کد را تولید، بازسازی یا بازبینی کنند.                             |   1   | D/V  |
| AD.1.2 | تأیید کنید که جریان کاری به هر مرحله از SSDLC (طراحی، پیاده‌سازی، بازبینی کد، آزمون، استقرار) مرتبط باشد.                                                        |   2   |  D   |
| AD.1.3 | اطمینان حاصل کنید که معیارها (مانند چگالی آسیب‌پذیری، میانگین زمان کشف) برای کد تولید شده توسط هوش مصنوعی جمع‌آوری شده و با مبناهای صرفاً انسانی مقایسه می‌شوند. |   3   | D/V  |

---

## AD.2 ارزیابی ابزار هوش مصنوعی و مدل‌سازی تهدید

اطمینان حاصل کنید که ابزارهای کدگذاری هوش مصنوعی از نظر قابلیت‌های امنیتی، ریسک و تأثیر زنجیره تأمین قبل از استفاده ارزیابی شوند.

|   #    | Description                                                                                                                                      | Level | Role |
| :----: | ------------------------------------------------------------------------------------------------------------------------------------------------ | :---: | :--: |
| AD.2.1 | اطمینان حاصل کنید که مدل تهدید برای هر ابزار هوش مصنوعی شامل سوءاستفاده، وارونگی مدل، نشت داده و خطرات زنجیره وابستگی باشد.                      |   1   | D/V  |
| AD.2.2 | اطمینان حاصل کنید که ارزیابی‌های ابزار شامل تحلیل ایستا/پویا از هر جزء محلی و ارزیابی نقاط انتهایی SaaS (TLS، احراز هویت/مجوزدهی، ثبت لاگ) باشد. |   2   |  D   |
| AD.2.3 | اطمینان حاصل کنید که ارزیابی‌ها طبق یک چارچوب معتبر انجام می‌شوند و پس از تغییرات بزرگ نسخه دوباره اجرا می‌شوند.                                 |   3   | D/V  |

---

## AD.3 مدیریت امن درخواست و زمینه

جلوگیری از نشت اسرار، کدهای اختصاصی و داده‌های شخصی هنگام ساخت پرامپت‌ها یا زمینه‌ها برای مدل‌های هوش مصنوعی.

|   #    | Description                                                                                                                                                          | Level | Role |
| :----: | -------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| AD.3.1 | اطمینان حاصل کنید که راهنمایی‌های مکتوب ارسال اسرار، مدارک شناسایی یا داده‌های طبقه‌بندی شده در درخواست‌ها را ممنوع می‌کند.                                          |   1   | D/V  |
| AD.3.2 | تأیید کنید که کنترل‌های فنی (حذف داده‌ها در سمت کلاینت، فیلترهای زمینه‌ای تأیید شده) به‌صورت خودکار آثار حساس را حذف می‌کنند.                                        |   2   |  D   |
| AD.3.3 | اطمینان حاصل کنید که پرسش‌ها و پاسخ‌ها توکنیزه شده، در حین انتقال و در حالت استراحت رمزگذاری شده‌اند و دوره‌های نگهداری آنها با سیاست طبقه‌بندی داده‌ها مطابقت دارد. |   3   | D/V  |

---

## AD.4 اعتبارسنجی کد تولیدشده توسط هوش مصنوعی

شناسایی و برطرف کردن آسیب‌پذیری‌های وارد شده توسط خروجی هوش مصنوعی قبل از ادغام یا استقرار کد.

|   #    | Description                                                                                                                                                                                            | Level | Role |
| :----: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | :---: | :--: |
| AD.4.1 | اطمینان حاصل کنید که کد تولید شده توسط هوش مصنوعی همیشه تحت بازبینی کد توسط انسان قرار می‌گیرد.                                                                                                        |   1   | D/V  |
| AD.4.2 | اطمینان حاصل کنید که برنامه‌های اسکنر خودکار (SAST/IAST/DAST) بر روی هر درخواست pull که حاوی کد تولید شده توسط هوش مصنوعی است اجرا شده و در صورت وجود یافته‌های بحرانی، عملیات ادغام را مسدود می‌کنند. |   2   |  D   |
| AD.4.3 | بررسی کنید که آزمایش‌های fuzz تفاضلی یا تست‌های مبتنی بر خصوصیت رفتارهای حیاتی امنیت (مانند اعتبارسنجی ورودی، منطق مجوزدهی) را اثبات کنند.                                                             |   3   | D/V  |

---

## AD.5 قابل توضیح بودن و ردیابی پیشنهادات کد

به حسابرسان و توسعه‌دهندگان دیدگاه بدهید که چرا یک پیشنهاد ارائه شده است و چگونه تکامل یافته است.

|   #    | Description                                                                                                                                                                 | Level | Role |
| :----: | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| AD.5.1 | تأیید کنید که جفت‌های درخواست/پاسخ با شناسه‌های تعهد (commit IDs) ثبت شده‌اند.                                                                                              |   1   | D/V  |
| AD.5.2 | تأیید کنید که توسعه‌دهندگان می‌توانند استنادهای مدل (قطعات آموزشی، مستندات) را که پیشنهاد را پشتیبانی می‌کنند، نشان دهند.                                                   |   2   |  D   |
| AD.5.3 | اطمینان حاصل کنید که گزارش‌های قابل‌توضیح بودن با مصنوعات طراحی ذخیره شده و در بازبینی‌های امنیتی ارجاع داده می‌شوند، به طوری که اصول ردیابی ISO/IEC 42001 را برآورده کنند. |   3   | D/V  |

---

## AD.6 بازخورد مستمر و اصلاح دقیق مدل

عملکرد امنیت مدل را در طول زمان بهبود بخشید در حالی که از انحراف منفی جلوگیری می‌کنید.

|   #    | Description                                                                                                                                                                                    | Level | Role |
| :----: | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| AD.6.1 | تأیید کنید که توسعه‌دهندگان می‌توانند پیشنهادهای ناامن یا غیرقابل تطبیق را علامت‌گذاری کنند و اینکه علامت‌ها ردیابی می‌شوند.                                                                   |   1   | D/V  |
| AD.6.2 | تأیید کنید که بازخورد تجمیع شده برای تنظیم مجدد دوره‌ای یا تولید افزایش‌یافته با بازیابی با استفاده از مجموعه‌های کدنویسی امن مورد تأیید (مانند OWASP Cheat Sheets) مورد استفاده قرار می‌گیرد. |   2   |  D   |
| AD.6.3 | اطمینان حاصل کنید که یک سیستم ارزیابی حلقه‌بسته پس از هر تنظیم دقیق، تست‌های رگرسیون را اجرا می‌کند؛ معیارهای امنیتی باید قبل از استقرار با حداقل میزان پایه‌های قبلی برابر یا بهتر باشند.     |   3   | D/V  |

---

### مراجع

* [NIST AI Risk Management Framework 1.0](https://nvlpubs.nist.gov/nistpubs/ai/nist.ai.100-1.pdf)
* [ISO/IEC 42001:2023 — AI Management Systems Requirements](https://www.iso.org/standard/81230.html)
* [OWASP Secure Coding Practices — Quick Reference Guide](https://owasp.org/www-project-secure-coding-practices-quick-reference-guide/)

