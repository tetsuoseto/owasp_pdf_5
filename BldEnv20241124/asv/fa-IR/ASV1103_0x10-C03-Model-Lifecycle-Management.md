# مدیریت چرخه عمر مدل C3 و کنترل تغییرات

## هدف کنترل

سیستم‌های هوش مصنوعی باید فرآیندهای کنترل تغییر را پیاده‌سازی کنند که از رسیدن تغییرات غیرمجاز یا ناایمن مدل به محیط تولید جلوگیری کند. این کنترل، تمامیت مدل را در طول چرخه عمر آن - از توسعه تا استقرار و بازنشستگی - تضمین می‌کند که امکان واکنش سریع به حوادث را فراهم کرده و مسئولیت‌پذیری برای تمامی تغییرات را حفظ می‌نماید.

هدف اصلی امنیتی: تنها مدل‌های مجاز و تأیید شده از طریق فرآیندهای کنترل شده که یکپارچگی، ردیابی‌پذیری و قابلیت بازیابی را حفظ می‌کنند، وارد مرحله تولید می‌شوند.

---

## C3.1 مجوزدهی و صحت مدل

تنها مدل‌های مجاز با صحت تایید شده به محیط‌های تولید می‌رسند.

|   #   | Description                                                                                                                                                         | Level | Role |
| :---: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| 3.1.1 | اطمینان حاصل کنید که تمامی آثار مدل (وزن‌ها، تنظیمات، توکن‌سازها) قبل از استقرار توسط نهادهای مجاز به صورت رمزنگاری شده امضا شده‌اند.                               |   1   | D/V  |
| 3.1.2 | اطمینان حاصل کنید که صحت مدل در زمان استقرار تایید می‌شود و عدم تطابق امضا مانع بارگذاری مدل می‌گردد.                                                               |   1   | D/V  |
| 3.1.3 | اطمینان حاصل کنید که سوابق منشأ مدل شامل هویت نهاد مجاز کننده، چکسام‌های داده‌های آموزش، نتایج آزمون اعتبارسنجی با وضعیت قبول/رد، و یک مهر زمان ایجاد است.          |   2   | D/V  |
| 3.1.4 | اطمینان حاصل کنید که تمام مصنوعات مدل از نسخه‌بندی معنایی (MAJOR.MINOR.PATCH) استفاده می‌کنند و معیارهای مستندی برای مشخص کردن زمان افزایش هر مؤلفه نسخه وجود دارد. |   2   | D/V  |
| 3.1.5 | تأیید کنید که ردیابی وابستگی یک موجودی به‌روزرسانی شده در زمان واقعی را حفظ می‌کند که امکان شناسایی سریع همه سیستم‌های مصرف‌کننده را فراهم می‌آورد.                 |   2   |  V   |

---

## C3.2 اعتبارسنجی و آزمایش مدل

مدل‌ها باید قبل از استقرار، آزمایش‌های تعریف‌شده امنیتی و ایمنی را پشت سر بگذارند.

|   #   | Description                                                                                                                                                                                                | Level | Role |
| :---: | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| 3.2.1 | اطمینان حاصل شود که مدل‌ها قبل از استقرار تحت آزمایش امنیتی خودکار قرار می‌گیرند که شامل اعتبارسنجی ورودی، پاک‌سازی خروجی و ارزیابی‌های ایمنی با حد نصاب‌های قبلاً توافق‌شده سازمانی برای قبولی یا رد است. |   1   | D/V  |
| 3.2.2 | تأیید کنید که شکست‌های اعتبارسنجی پس از تأیید صریح از سوی افراد مجاز از پیش تعیین شده با دلایل تجاری مستند، به طور خودکار مانع از استقرار مدل می‌شوند.                                                     |   1   | D/V  |
| 3.2.3 | اطمینان حاصل کنید که نتایج آزمایش به صورت رمزنگاری امضا شده و به طور تغییرناپذیری به هش نسخه خاص مدل که در حال اعتبارسنجی است، مرتبط شده‌اند.                                                              |   2   |  V   |
| 3.2.4 | اطمینان حاصل کنید که استقرارهای اضطراری نیازمند ارزیابی مستند ریسک امنیتی و تأیید از سوی مرجع امنیتی از پیش تعیین‌شده در بازه‌های زمانی توافق شده هستند.                                                   |   2   | D/V  |

---

## C3.3 استقرار کنترل شده و بازگردانی

استقرار مدل‌ها باید کنترل‌شده، نظارت‌شده و قابل برگشت باشد.

|   #   | Description                                                                                                                                                                                                                                | Level | Role |
| :---: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | :---: | :--: |
| 3.3.1 | اطمینان حاصل کنید که استقرارهای تولیدی مکانیزم‌های عرضه تدریجی (استقرار کاناری، استقرار آبی-سبز) را اجرا می‌کنند که دارای ماشه‌های بازگردانی خودکار بر اساس نرخ خطاهای از پیش توافق شده، آستانه‌های تأخیر، یا معیارهای هشدار امنیتی باشند. |   1   |  D   |
| 3.3.2 | تأیید کنید که قابلیت‌های بازگشت به عقب به‌صورت اتمی در بازه‌های زمانی سازمانی از پیش تعریف شده، وضعیت کامل مدل (وزن‌ها، پیکربندی‌ها، وابستگی‌ها) را بازیابی می‌کنند.                                                                       |   1   | D/V  |
| 3.3.3 | اطمینان حاصل کنید که فرآیندهای استقرار امضاهای رمزنگاری شده را بررسی کرده و قبل از فعال‌سازی مدل، چک‌سام‌های صحت را محاسبه می‌کنند و در صورت هر گونه عدم تطابق، استقرار را متوقف می‌کنند.                                                  |   2   | D/V  |
| 3.3.4 | تأیید کنید که قابلیت‌های خاموش‌سازی اضطراری مدل قادر به غیرفعال کردن نقاط انتهایی مدل در زمان‌های پاسخ تعریف‌شده از پیش از طریق مدارشکن‌های خودکار یا سوئیچ‌های قطع دستی هستند.                                                            |   2   | D/V  |
| 3.3.5 | تایید کنید که آثار بازگشتی (نسخه‌های قبلی مدل، تنظیمات، وابستگی‌ها) مطابق با سیاست‌های سازمانی با ذخیره‌سازی غیرقابل تغییر برای پاسخ به حوادث نگهداری می‌شوند.                                                                             |   2   |  V   |

---

## C3.4 تغییر مسئولیت‌پذیری و حسابرسی

تمام تغییرات چرخه عمر مدل باید قابل ردیابی و حسابرسی باشند.

|   #   | Description                                                                                                                                                                          | Level | Role |
| :---: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | :---: | :--: |
| 3.4.1 | بررسی کنید که تمامی تغییرات مدل (استقرار، پیکربندی، بازنشستگی) سوابق حسابرسی غیرقابل تغییر را شامل زمان‌سنجی، هویت بازیگر تأیید شده، نوع تغییر و وضعیت‌های قبل/بعد ایجاد کنند.       |   1   |  V   |
| 3.4.2 | تأیید کنید که دسترسی به گزارش‌های حسابرسی نیازمند مجوز مناسب است و تمام تلاش‌های دسترسی با هویت کاربر و زمان‌سنجی ثبت می‌شوند.                                                       |   2   | D/V  |
| 3.4.3 | اطمینان حاصل کنید که قالب‌های پرامپت و پیام‌های سیستمی در مخازن گیت نسخه‌بندی شده‌اند و پیش از استقرار، بررسی و تأیید کد توسط بازبینان تعیین‌شده الزامی است.                         |   2   | D/V  |
| 3.4.4 | تأیید کنید که سوابق حسابرسی شامل جزئیات کافی (هش‌های مدل، عکس‌برداری‌های پیکربندی، نسخه‌های وابستگی) باشد تا بازسازی کامل وضعیت مدل را برای هر بازه زمانی در دوره نگهداری ممکن سازد. |   2   |  V   |

---

## عملکردهای توسعه امن C3.5

فرایندهای توسعه و آموزش مدل باید از رویه‌های ایمن پیروی کنند تا از به خطر افتادن جلوگیری شود.

|   #   | Description                                                                                                                                                                                            | Level | Role |
| :---: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | :---: | :--: |
| 3.5.1 | اطمینان حاصل کنید که محیط‌های توسعه مدل، آزمایش و تولید به صورت فیزیکی یا منطقی جدا شده‌اند. این محیط‌ها هیچ زیرساخت مشترکی ندارند، کنترل‌های دسترسی متمایز دارند و فروشگاه‌های داده جداگانه‌ای دارند. |   1   |  D   |
| 3.5.2 | اطمینان حاصل کنید که آموزش مدل و تنظیم دقیق آن در محیط‌های ایزوله با دسترسی شبکه کنترل‌شده انجام می‌شود.                                                                                               |   1   |  D   |
| 3.5.3 | اطمینان حاصل کنید که منابع داده‌های آموزشی از طریق بررسی‌های صحت اعتبارسنجی شده و از طریق منابع معتبر با زنجیره نگهداری مستند تأیید هویت شده‌اند قبل از استفاده در توسعه مدل.                          |   1   | D/V  |
| 3.5.4 | اطمینان حاصل کنید که مصنوعات توسعه مدل (ابرپارامترها، اسکریپت‌های آموزش، فایل‌های پیکربندی) در کنترل نسخه ذخیره شده و قبل از استفاده در آموزش، نیاز به تأیید بازبینی همتا دارند.                       |   2   |  D   |

---

## C3.6 بازنشستگی و از خدمت خارج کردن مدل

مدل‌ها باید به‌صورت امن بازنشسته شوند زمانی که دیگر مورد نیاز نیستند یا مشکلات امنیتی شناسایی شده است.

|   #   | Description                                                                                                                                                                                                        | Level | Role |
| :---: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | :---: | :--: |
| 3.6.1 | تأیید کنید که فرآیندهای بازنشستگی مدل به‌طور خودکار نمودارهای وابستگی را اسکن می‌کنند، تمامی سیستم‌های مصرف‌کننده را شناسایی می‌کنند و دوره‌های اطلاع‌رسانی پیش‌توافق‌شده را قبل از از کار انداختن فراهم می‌آورند. |   1   |  D   |
| 3.6.2 | اطمینان حاصل کنید که داده‌های مدل بازنشسته شده با استفاده از پاک‌سازی رمزنگاری شده یا بازنویسی چندمرحله‌ای به طور ایمن حذف شده‌اند، مطابق با سیاست‌های حفظ داده مستند شده و با گواهی‌های تخریب تأیید شده.          |   1   | D/V  |
| 3.6.3 | تأیید کنید که رویدادهای بازنشستگی مدل با زمان‌بندی و هویت بازیگر ثبت شده‌اند و امضاهای مدل برای جلوگیری از استفاده مجدد لغو شده‌اند.                                                                               |   2   |  V   |
| 3.6.4 | اطمینان حاصل کنید که بازنشستگی اضطراری مدل می‌تواند دسترسی به مدل را در چارچوب‌های زمانی واکنش اضطراری از پیش تعیین‌شده از طریق کلیدهای قطع خودکار غیرفعال کند اگر آسیب‌پذیری‌های حیاتی امنیتی شناسایی شوند.       |   2   | D/V  |

---

## مراجع

* [MLOps Principles](https://ml-ops.org/content/mlops-principles)
* [Securing AI/ML Ops – Cisco.com](https://sec.cloudapps.cisco.com/security/center/resources/SecuringAIMLOps)
* [Audit logs security: cryptographically signed tamper-proof logs](https://www.cossacklabs.com/blog/audit-logs-security/)
* [Machine Learning Model Versioning: Top Tools & Best Practices](https://lakefs.io/blog/model-versioning/)
* [AI Hygiene Starts with Models and Data Loaders – SEI Blog](https://insights.sei.cmu.edu/documents/6190/AI-Hygiene-Starts-with-Models-and-Data-Loaders_1G0KTRh.pdf)
* [How to handle versioning and rollback of a deployed ML model?](https://learn.microsoft.com/en-au/answers/questions/1845378/how-to-handle-versioning-and-rollback-of-a-deploye)
* [Reinforcement fine-tuning – OpenAI API](https://platform.openai.com/docs/guides/reinforcement-fine-tuning)
* [Auditing Machine Learning models: Governance, Data Security and …](https://www.linkedin.com/pulse/auditing-machine-learning-models-governance-data-security-negrete-yn81f)
* [Adversarial Training to Improve Model Robustness](https://medium.com/%40amit25173/adversarial-training-to-improve-model-robustness-5e285b516713)
* [What is AI adversarial robustness? – IBM Research](https://research.ibm.com/blog/securing-ai-workflows-with-adversarial-robustness)
* [Exploring Data Provenance: Ensuring Data Integrity and Authenticity](https://www.astera.com/type/blog/data-provenance/)
* [MITRE ATLAS](https://atlas.mitre.org/)
* [AWS Prescriptive Guidance – Best practices for retiring applications …](https://docs.aws.amazon.com/pdfs/prescriptive-guidance/latest/migration-app-retirement-best-practices/migration-app-retirement-best-practices.pdf)

