# אבטחת זיכרון C8, הטמעות ומסד נתונים וקטורי

## מטרת בקרת

הטמעות ואחסוני וקטורים פועלים כ"זיכרון חי" של מערכות AI עכשוויות, המקבל באופן רציף נתונים המסופקים על ידי המשתמש ומחזיר אותם להקשרים של המודל באמצעות יצירה מואצת על ידי שליפה (RAG). אם לא ינוהלו כראוי, זיכרון זה עלול לדלוף מידע אישי מזוהה (PII), להפר הסכמות או להיות מנוצל להפוך את הטקסט המקורי. מטרת משפחת הבקרה הזו היא להקשות על צינורות הזיכרון ומסדי הנתונים של הוקטורים כך שהגישה תהיה במידת הפחות-הרשאה, ההטמעות ישמרו על פרטיות, הוקטורים המאוחסנים יפוגו או יוכלו להתבטל לפי דרישה, וזיכרון לכל משתמש לא יזהם את ההנחיות או התוצרים של משתמש אחר.

---

## C8.1 בקרות גישה על זיכרון ומדדי RAG

לאכוף בקרות גישה מדויקות על כל אוסף וקטורים.

|   #   | Description                                                                                                | Level | Role |
| :---: | ---------------------------------------------------------------------------------------------------------- | :---: | :--: |
| 8.1.1 | אמת שכללי בקרת גישה ברמת שורה/מרחב שמות מגבילים פעולות הוספה, מחיקה ושאילתה לפי שוכר, אוסף או תג מסמך.     |   1   | D/V  |
| 8.1.2 | אמת כי מפתחות API או JWT נושאים טענות ממוקדות (כגון מזהי אוספים, פעלים לפעולות) ומחודשים לפחות אחת לרבעון. |   1   | D/V  |
| 8.1.3 | אמתו שניסיונות להעלאת הרשאות (למשל, שאילתות דמיון בין מרחבי שמות) מתגלים ומתועדים במערכת SIEM בתוך 5 דקות. |   2   | D/V  |
| 8.1.4 | אמת כי מערכת בדיקת מאגר וקטורים מתעדת מזהה נושא, פעולה, מזהה וקטור/מרחב שמות, סף דמיון ומספר תוצאות.       |   2   | D/V  |
| 8.1.5 | אמתו שהחלטות גישה נבדקות עבור ליקויי עקיפה בכל פעם שמנועים משודרגים או חוקי חלוקת אינדקס משתנים.           |   3   |  V   |

---

## C8.2 ניקוי ואימות הטמעה

בדוק טקסט מקדים לזיהוי מידע מזהה אישי (PII), הצפן או השתמש בפסאודונימיזציה לפני המוביליזציה, ואפשרות לעבד את ההטבעות לאחר מכן להסיר אותות שאריים.

|   #   | Description                                                                                                                                                         | Level | Role |
| :---: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| 8.2.1 | וודא שפרטי זיהוי אישי (PII) ונתונים מפוקחים מזוהים באמצעות מסווגים אוטומטיים ומטויחים, מתוקנים או מוסרים לפני ההטמעה.                                               |   1   | D/V  |
| 8.2.2 | לאמת כי צינורות הטמעה דוחים או מבדילים קלטים המכילים קוד ריצתי או ארטיפקטים שאינם ב-UTF-8 העלולים להרוס את האינדקס.                                                 |   1   |  D   |
| 8.2.3 | אמת כי מנגנון סניטציה של פרטיות דיפרנציאלית מקומית או מטרית מיושם על האימבידינגים של המשפטים שלגביהם המרחק מכל טוקן של מידע אישי מזוהה (PII) נמוך מסף שניתן לכוונן. |   2   | D/V  |
| 8.2.4 | אמת כי היעילות של סינון וניקוי (למשל, אחזור הסרת מידע אישי מזהה, דיפת משמעות) מאומתת לפחות פעמיים בשנה מול מאגרי מבחן תקניים.                                       |   2   |  V   |
| 8.2.5 | אשר כי קונפיגורציות הסניטיזציה מנוהלות בגירסאות והשינויים עוברים סקירת עמיתים.                                                                                      |   3   | D/V  |

---

## C8.3 שפיכת זיכרון, ביטול וסילוק

חוק GDPR של "הזכות להישכח" וחוקים דומים דורשים מחיקה בזמן; לכן, מאגרי וקטורים צריכים לתמוך ב-TTL, מחיקות קשות, וטומב-סטונינג כך שוקטורים שבוטלו לא יוכלו להיות משוחזרים או מואנדקסים מחדש.

|   #   | Description                                                                                                          | Level | Role |
| :---: | -------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| 8.3.1 | וודא שכל וקטור ורשומת מטא-דאטה נושאים TTL או תווית שמירת מידע מפורשת המכובדת על ידי עבודות ניקוי אוטומטיות.          |   1   | D/V  |
| 8.3.2 | אמת כי בקשות מחיקה ביוזמת המשתמש מוחקות וקטורים, מטא-דאטה, עותקי מטמון ואינדקסים נגזרים תוך 30 יום.                  |   1   | D/V  |
| 8.3.3 | וודא שמחקות לוגיות מלוות בהשמדת קריפטוגרפית של בלוקי אחסון אם החומרה תומכת בכך, או בהשמדת מפתח מאובטח במאגר המפתחות. |   2   |  D   |
| 8.3.4 | אמת שוקטורים שפגו אינם נכללים בתוצאות חיפוש השכנים הקרובים תוך פחות מ-500 מילישניות לאחר הפגת התוקף.                 |   3   | D/V  |

---

## C8.4 מניעת הפיכה ודליפה של הטמעות

הגנות אחרונות — חפיפה של רעש, רשתות השלכה, הפרעת נוירונים לפרטיות, והצפנה בשכבת היישום — יכולות להפחית את שיעורי ההיפוך ברמת הטוקן מתחת ל-5%.

|   #   | Description                                                                                                                           | Level | Role |
| :---: | ------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| 8.4.1 | וודא שקיים מודל איומים פורמלי הכולל התקפות היפוך, חברות והסקת תכונות, ושהוא נסקר מדי שנה.                                             |   1   |  V   |
| 8.4.2 | וודא שהצפנת שכבת היישום או הצפנה ניתנת לחיפוש מגנות על וקטורים מקריאה ישירה על ידי מנהלי התשתית או צוות הענן.                         |   2   | D/V  |
| 8.4.3 | אמת שהפרמטרים להגנה (ε לפרטיות דיפרנציאלית, רעש σ, דרגת ההיטל k) מאזנים בין פרטיות ≥ 99% בהגנת טוקנים לבין שימושיות ≤ 3% באובדן דיוק. |   3   |  V   |
| 8.4.4 | וודא כי מדדי עמידות ל-inversion הם חלק משערי השחרור לעדכוני מודל, עם תקציבי רגרסיה מוגדרים.                                           |   3   | D/V  |

---

## C8.5 אכיפת היקף זיכרון ספציפי למשתמש

דליפת מידע בין שוכרי שירות נשארת סיכון מרכזי ב-RAG: שאילתות דמיון שלא סוננו כראוי עלולות לחשוף מסמכים פרטיים של לקוח אחר.

|   #   | Description                                                                                                         | Level | Role |
| :---: | ------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| 8.5.1 | וודא שכל שאילתה לאחזור עוברת סינון לאחר מכן לפי מזהה דייר/משתמש לפני שנשלחת ל-LMM.                                  |   1   | D/V  |
| 8.5.2 | אמת ששם האוספים או מזהי המרחב השם ממולחים לפי משתמש או שוכר כך שלא יתאפשר התנגשות וקטורים בין תחומים.               |   1   |  D   |
| 8.5.3 | ודא שתוצאות הדמיון שעולות מעל סף מרחק ניתן לקונפיגורציה אך מחוץ לטווח הקריאה של הקריאה נדחות ומפעילות התראות אבטחה. |   2   | D/V  |
| 8.5.4 | אמת כי מבחני עומס מרובי-שוכנים מדמים שאילתות עוינות המבקשות לשחזר מסמכים מחוץ לתחום הפעולה ומראים אפס דליפה.        |   2   |  V   |
| 8.5.5 | אמת כי מפתחות ההצפנה מופרדים לכל שוכר בנפרד, תוך הבטחה לבידוד קריפטוגרפי גם אם האחסון הפיזי משותף.                  |   3   | D/V  |

---

## C8.6 אבטחת מערכת זיכרון מתקדמת

בקרות אבטחה לארכיטקטורות זיכרון מתקדמות הכוללות זיכרון אפיזודי, סמנטי וזיכרון עבודה עם דרישות ספציפיות לבידוד ואימות.

|   #   | Description                                                                                                                                                                        | Level | Role |
| :---: | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| 8.6.1 | וודא שסוגי הזיכרון השונים (אפיזודי, סמנטי, עבודה) מחזיקים בהקשרים אבטחה מבודדים עם בקרות גישה מבוססות תפקידים, מפתחות הצפנה נפרדים, ותיעוד דפוסי גישה עבור כל סוג זיכרון.          |   1   | D/V  |
| 8.6.2 | וודא שתהליכי מיזוג הזיכרון כוללים אימות אבטחה למניעת הזרקת זיכרונות זדוניים באמצעות ניקוי תוכן, אימות המקור ובדיקות שלמות לפני האחסון.                                             |   2   | D/V  |
| 8.6.3 | אשר ששאילתות של אחזור מידע מאומתות ומנוקות כדי למנוע חילוץ של מידע בלתי מורשה באמצעות ניתוח דפוסי השאילתות, אכיפת בקרת גישה וסינון תוצאות.                                         |   2   | D/V  |
| 8.6.4 | ודא שמכאניזמים של שכחת זיכרון מוחקים מידע רגיש בצורה מאובטחת עם ערבויות מחיקה קריפטוגרפית באמצעות מחיקת מפתחות, רישום מחזורי מרובה, או מחיקה מאובטחת מבוססת חומרה עם תעודות אימות. |   3   | D/V  |
| 8.6.5 | וודא כי שלמות מערכת הזיכרון מנוטרת ברציפות לאיתור שינויים או שיבושים לא מורשים באמצעות סכומי בדיקה, יומני ביקורת והתראות אוטומטיות כאשר תוכן הזיכרון משתנה מחוץ לפעולות הרגילות.   |   3   | D/V  |

---

## ביבליוגרפיה

* [Vector database security: Pinecone – IronCore Labs](https://ironcorelabs.com/vectordbs/pinecone-security/)
* [Securing the Backbone of AI: Safeguarding Vector Databases and Embeddings – Privacera](https://privacera.com/blog/securing-the-backbone-of-ai-safeguarding-vector-databases-and-embeddings/)
* [Enhancing Data Security with RBAC of Qdrant Vector Database – AI Advances](https://ai.gopubby.com/enhancing-data-security-with-role-based-access-control-of-qdrant-vector-database-3878769bec83)
* [Mitigating Privacy Risks in LLM Embeddings from Embedding Inversion – arXiv](https://arxiv.org/html/2411.05034v1)
* [DPPN: Detecting and Perturbing Privacy-Sensitive Neurons – OpenReview](https://openreview.net/forum?id=DF5TVzpTW0)
* [Art. 17 GDPR – Right to Erasure](https://gdpr-info.eu/art-17-gdpr/)
* [Sensitive Data in Text Embeddings Is Recoverable – Tonic.ai](https://www.tonic.ai/blog/sensitive-data-in-text-embeddings-is-recoverable)
* [PII Identification and Removal – NVIDIA NeMo Docs](https://docs.nvidia.com/nemo-framework/user-guide/latest/datacuration/personalidentifiableinformationidentificationandremoval.html)
* [De-identifying Sensitive Data – Google Cloud DLP](https://cloud.google.com/sensitive-data-protection/docs/deidentify-sensitive-data)
* [Remove PII from Conversations Using Sensitive Information Filters – AWS Bedrock Guardrails](https://docs.aws.amazon.com/bedrock/latest/userguide/guardrails-sensitive-filters.html)
* [Think Your RAG Is Secure? Think Again – Medium](https://medium.com/%40vijay.poudel1/think-your-rag-is-secure-think-again-heres-how-to-actually-lock-it-down-c4c30e3864e7)
* [Design a Secure Multitenant RAG Inferencing Solution – Microsoft Learn](https://learn.microsoft.com/en-us/azure/architecture/ai-ml/guide/secure-multitenant-rag)
* [Best Practices for Multi-Tenancy RAG with Milvus – Milvus Blog](https://milvus.io/blog/build-multi-tenancy-rag-with-milvus-best-practices-part-one.md)

