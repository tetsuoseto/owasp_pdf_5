# ภาคผนวก D: การกำกับดูแลและการตรวจสอบโค้ดที่ปลอดภัยโดยใช้ปัญญาประดิษฐ์ช่วย

## วัตถุประสงค์

บทนี้กำหนดการควบคุมพื้นฐานขององค์กรสำหรับการใช้งานเครื่องมือช่วยเขียนโค้ดด้วย AI อย่างปลอดภัยและมีประสิทธิภาพในระหว่างการพัฒนาซอฟต์แวร์ เพื่อให้มั่นใจในความปลอดภัยและการติดตามย้อนกลับได้ตลอดวงจรชีวิตการพัฒนาซอฟต์แวร์ (SDLC)

---

## AD.1 กระบวนการทำงานการเขียนโค้ดปลอดภัยที่ได้รับการสนับสนุนโดย AI

รวมเครื่องมือ AI เข้ากับวงจรชีวิตการพัฒนาซอฟต์แวร์ที่ปลอดภัยขององค์กร (SSDLC) โดยไม่ทำให้จุดตรวจสอบความปลอดภัยที่มีอยู่ร่อนแหลว

|   #    | Description                                                                                                                                                                     | Level | Role |
| :----: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| AD.1.1 | ตรวจสอบให้แน่ใจว่ากระบวนงานที่มีเอกสารอธิบายว่าเมื่อใดและอย่างไรที่เครื่องมือ AI อาจสร้าง ปรับปรุง หรือทบทวนโค้ด                                                                |   1   | D/V  |
| AD.1.2 | ตรวจสอบให้แน่ใจว่าเวิร์กโฟลว์สอดคล้องกับแต่ละขั้นตอนของ SSDLC (ออกแบบ, การพัฒนา, การตรวจสอบโค้ด, การทดสอบ, การปรับใช้)                                                          |   2   |  D   |
| AD.1.3 | ตรวจสอบให้แน่ใจว่ามาตรวัด (เช่น ความหนาแน่นของช่องโหว่, เวลาหรือค่าเฉลี่ยในการตรวจจับ) ถูกเก็บรวบรวมจากโค้ดที่สร้างโดย AI และนำมาเปรียบเทียบกับฐานข้อมูลที่ได้จากมนุษย์เท่านั้น |   3   | D/V  |

---

## AD.2 การวิเคราะห์คุณสมบัติของเครื่องมือปัญญาประดิษฐ์และการสร้างแบบจำลองภัยคุกคาม

ตรวจสอบให้แน่ใจว่าเครื่องมือเขียนโค้ด AI ได้รับการประเมินด้านความสามารถด้านความปลอดภัย ความเสี่ยง และผลกระทบต่อห่วงโซ่อุปทานก่อนนำมาใช้

|   #    | Description                                                                                                                                                                        | Level | Role |
| :----: | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| AD.2.1 | ตรวจสอบให้แน่ใจว่าแบบจำลองภัยคุกคามสำหรับแต่ละเครื่องมือ AI ระบุการใช้งานผิดวัตถุประสงค์ การย้อนกลับแบบจำลอง การรั่วไหลของข้อมูล และความเสี่ยงจากห่วงโซ่อุปทานที่ขึ้นอยู่          |   1   | D/V  |
| AD.2.2 | ตรวจสอบให้แน่ใจว่าการประเมินเครื่องมือรวมถึงการวิเคราะห์แบบคงที่/แบบไดนามิกของส่วนประกอบภายในเครื่องและการประเมินจุดสิ้นสุด SaaS (TLS, การตรวจสอบสิทธิ์/การอนุญาต, การบันทึก) ด้วย |   2   |  D   |
| AD.2.3 | ตรวจสอบให้แน่ใจว่าการประเมินผลเป็นไปตามกรอบที่ได้รับการยอมรับและทำการประเมินซ้ำหลังการเปลี่ยนแปลงเวอร์ชันหลัก                                                                      |   3   | D/V  |

---

## AD.3 การจัดการพรอมต์และบริบทอย่างปลอดภัย

ป้องกันการรั่วไหลของความลับ โค้ดเฉพาะ และข้อมูลส่วนบุคคลเมื่อสร้างพรอมต์หรือบริบทสำหรับโมเดล AI

|   #    | Description                                                                                                                                                    | Level | Role |
| :----: | -------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| AD.3.1 | ตรวจสอบให้แน่ใจว่าคำแนะนำเป็นลายลักษณ์อักษรห้ามส่งข้อมูลลับ ข้อมูลรับรอง หรือข้อมูลที่ได้รับการจัดระดับความลับในคำถาม                                          |   1   | D/V  |
| AD.3.2 | ตรวจสอบให้แน่ใจว่าเครื่องมือตรวจสอบทางเทคนิค (การลบข้อมูลด้านฝั่งไคลเอนต์, ตัวกรองบริบทที่ได้รับอนุมัติ) สามารถลบข้อมูลที่ละเอียดอ่อนโดยอัตโนมัติได้           |   2   |  D   |
| AD.3.3 | ตรวจสอบให้แน่ใจว่าคำสั่งและการตอบกลับถูกแบ่งเป็นโทเค็น เข้ารหัสเมื่อส่งข้อมูลและเมื่อเก็บข้อมูล และระยะเวลาการเก็บรักษาข้อมูลเป็นไปตามนโยบายการจัดประเภทข้อมูล |   3   | D/V  |

---

## AD.4 การตรวจสอบความถูกต้องของโค้ดที่สร้างโดย AI

ตรวจจับและแก้ไขช่องโหว่ที่เกิดจากผลลัพธ์ของ AI ก่อนที่โค้ดจะถูกรวมเข้าหรือปรับใช้

|   #    | Description                                                                                                                                                                      | Level | Role |
| :----: | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| AD.4.1 | ตรวจสอบให้แน่ใจว่ารหัสที่สร้างโดย AI จะได้รับการตรวจสอบโดยมนุษย์เสมอ                                                                                                             |   1   | D/V  |
| AD.4.2 | ตรวจสอบให้แน่ใจว่าเครื่องสแกนอัตโนมัติ (SAST/IAST/DAST) ทำงานกับทุกคำขอดึง (pull request) ที่มีโค้ดที่สร้างด้วยปัญญาประดิษฐ์ และบล็อกการรวมโค้ดเมื่อพบข้อผิดพลาดที่ร้ายแรง       |   2   |  D   |
| AD.4.3 | ตรวจสอบให้แน่ใจว่าการทดสอบแบบฟัซซิงที่แตกต่างกันหรือการทดสอบที่อิงตามคุณสมบัติพิสูจน์พฤติกรรมที่สำคัญด้านความปลอดภัย (เช่น การตรวจสอบความถูกต้องของข้อมูลนำเข้า, ตรรกะการอนุญาต) |   3   | D/V  |

---

## AD.5 ความสามารถในการอธิบายและการติดตามร่องรอยของคำแนะนำโค้ด

มอบข้อมูลเชิงลึกให้กับผู้ตรวจสอบและนักพัฒนาเกี่ยวกับเหตุผลที่ข้อเสนอถูกเสนอและพัฒนามาอย่างไร

|   #    | Description                                                                                                                                                             | Level | Role |
| :----: | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| AD.5.1 | ตรวจสอบให้แน่ใจว่าคู่ของคำสั่งและการตอบกลับถูกบันทึกพร้อมกับหมายเลขการยืนยัน (commit IDs).                                                                              |   1   | D/V  |
| AD.5.2 | ตรวจสอบให้แน่ใจว่านักพัฒนาสามารถแสดงแหล่งอ้างอิงของโมเดล (ตัวอย่างข้อมูลการฝึก, เอกสารประกอบ) ที่สนับสนุนคำแนะนำได้                                                     |   2   |  D   |
| AD.5.3 | ตรวจสอบให้แน่ใจว่ารายงานการอธิบายความเข้าใจถูกจัดเก็บร่วมกับเอกสารการออกแบบและถูกอ้างอิงในรีวิวความปลอดภัย เพื่อตอบสนองหลักการการติดตามย้อนกลับของมาตรฐาน ISO/IEC 42001 |   3   | D/V  |

---

## AD.6 ข้อเสนอแนะต่อเนื่องและการปรับจูนโมเดล

ปรับปรุงประสิทธิภาพความปลอดภัยของโมเดลให้ดีขึ้นตามเวลาในขณะเดียวกันป้องกันการเลื่อนลบ

|   #    | Description                                                                                                                                                                                       | Level | Role |
| :----: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| AD.6.1 | ตรวจสอบให้แน่ใจว่านักพัฒนาสามารถทำเครื่องหมายข้อเสนอที่ไม่ปลอดภัยหรือไม่เป็นไปตามมาตรฐานได้ และมีการติดตามการทำเครื่องหมายนั้นด้วย                                                                |   1   | D/V  |
| AD.6.2 | ตรวจสอบให้แน่ใจว่าข้อเสนอแนะที่รวบรวมได้ถูกนำมาใช้ในการปรับแต่งเป็นระยะหรือการสร้างข้อมูลแบบเสริมการดึงข้อมูลด้วยชุดข้อมูลการเขียนโค้ดที่ปลอดภัยที่ได้รับการตรวจสอบแล้ว (เช่น OWASP Cheat Sheets) |   2   |  D   |
| AD.6.3 | ตรวจสอบให้แน่ใจว่าโครงสร้างการประเมินแบบปิดวงรอบดำเนินการทดสอบรีเกรสชันหลังจากการปรับจูนละเอียดแต่ละครั้ง; เมตริกความปลอดภัยต้องเป็นไปตามหรือสูงกว่าระดับฐานก่อนหน้าก่อนการนำไปใช้งานจริง         |   3   | D/V  |

---

### เอกสารอ้างอิง

* [NIST AI Risk Management Framework 1.0](https://nvlpubs.nist.gov/nistpubs/ai/nist.ai.100-1.pdf)
* [ISO/IEC 42001:2023 — AI Management Systems Requirements](https://www.iso.org/standard/81230.html)
* [OWASP Secure Coding Practices — Quick Reference Guide](https://owasp.org/www-project-secure-coding-practices-quick-reference-guide/)

