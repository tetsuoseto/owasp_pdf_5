# Бяспека памяці C8, убудаванняў і вектарных баз даных

## Мэта Кантролю

Эмбеддынгі і вектарныя сховішчы выступаюць у якасці "жывой памяці" сучасных сістэм ШІ, пастаянна прымаючы дадзеныя ад карыстальнікаў і вяртаючы іх у кантэксты мадэлі праз Retrieval-Augmented Generation (RAG). Калі гэтая памяць не кантралявацца, яна можа ўцекці асабістыя ідэнтыфікацыйныя дадзеныя (PII), парушаць згоду або быць перавернутай для аднаўлення арыгінальнага тэксту. Мэта гэтай сям'і кантролю — умацаваць каналы памяці і вектарныя базы дадзеных такім чынам, каб доступ быў з мінімальнымі правамі, эмбеддынгі захоўвалі прыватнасць, захаваныя вектары сціраліся або маглі быць адкліканы па запыце, а памяць кожнага карыстальніка ніколі не заражала запыты або выкананні іншага карыстальніка.

---

## C8.1 Кантроль доступу да памяці і RAG-індэксаў

Усталюйце дэталёвыя кантрольныя механізмы доступу да кожнай калекцыі вектараў.

|   #   | Description                                                                                                                                                                 | Level | Role |
| :---: | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| 8.1.1 | Праверце, ці абмежаванні доступу на ўзроўні радка/прасторы імёнаў рэгулююць аперацыі ўстаўкі, выдалення і запыту ў адпаведнасці з арэндарам, калекцыяй або тэгаў дакумента. |   1   | D/V  |
| 8.1.2 | Праверце, каб API-ключы або JWT утрымлівалі абмежаваныя правы (напрыклад, ідэнтыфікатары калекцый, дзеясловы дзеянняў) і рэгулярна змяняліся не радзей за раз на квартал.   |   1   | D/V  |
| 8.1.3 | Праверце, што спробы эскалацыі прывілеяў (напрыклад, запыты на падобнасць паміж прасторамі імёнаў) выяўляюцца і запісваюцца ў SIEM на працягу 5 хвілін.                     |   2   | D/V  |
| 8.1.4 | Праверце, што вектарная база дадзеных робіць аўдыт лагавання ідэнтыфікатара суб'екта, аперацыі, ID вектара/прасторы імёнаў, парога падобнасці і колькасці вынікаў.          |   2   | D/V  |
| 8.1.5 | Праверце, каб рашэнні аб доступе правяраліся на наяўнасць абыходных хібнасцей кожны раз пры абнаўленні рухавікоў або змяненні правілаў раздзелу індэксаў.                   |   3   |  V   |

---

## C8.2 Ачыстка і праверка ўбудаваных элементаў

Перад вектарызацыяй правярайце тэкст на наяўнасць асабістай ідэнтыфікацыйнай інфармацыі (PII), рэдагуйце або псеўданімізуйце яго, а таксама па жаданні праводзьце постапрацоўку ўбудаванняў, каб выдаліць рэшткавыя сігналы.

|   #   | Description                                                                                                                                                                                                                        | Level | Role |
| :---: | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| 8.2.1 | Праверце, што асабістыя дадзеныя (PII) і рэгуляваныя дадзеныя выяўляюцца аўтаматызаванымі класіфікатарамі і маскіруюцца, токенізуюцца або выдаляюцца перад убудовай.                                                               |   1   | D/V  |
| 8.2.2 | Праверце, што ўбудаваныя канвееры адхіляюць або ставяць у каранцін уваходныя дадзеныя, якія змяшчаюць выканальны код або артефакты, не-сумяшчальныя з UTF-8, якія могуць атруціць індэкс.                                          |   1   |  D   |
| 8.2.3 | Праверце, што лакальная або метрычная дыферэнцыяльна-прыватная санітарызацыя прымяняецца да ўбудаванняў сказаў, адлегласць якіх да любога вядомага токена асабістай ідэнтыфікацыйнай інфармацыі (PII) ніжэй за канфігуруемы парог. |   2   | D/V  |
| 8.2.4 | Правярайце эфектыўнасць санітызацыі (напрыклад, адтэрміноўку выдалення ПДВ, сэнсавы зрух) прынамсі два разы на год у параўнанні з эталоннымі корпусамі.                                                                            |   2   |  V   |
| 8.2.5 | Праверце, што канфігурацыі санітацыі кантралююцца па версіях, а змены праходзяць калегіяльны агляд.                                                                                                                                |   3   | D/V  |

---

## C8.3 Скок вызвалення памяці, адклік і выдаленне

Права GDPR "быць забытым" і падобныя законы патрабуюць своечасовага выдалення; таму вектарныя сховішчы павінны падтрымліваць час жыцця (TTL), жорсткае выдаленне і маркіроўку выдаленых запісаў (tomb-stoning), каб адкліканыя вектары не маглі быць адноўлены або паўторна індэксаваны.

|   #   | Description                                                                                                                                                                  | Level | Role |
| :---: | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| 8.3.1 | Праверце, што кожны вектар і метададзеныя запіс маюць TTL або выразную пазнаку захавання, якая выконваецца аўтаматызаванымі працэсамі ачысткі.                               |   1   | D/V  |
| 8.3.2 | Праверце, што запыты на выдаленне, ініцыяваныя карыстальнікам, выдаляюць вектары, метаданыя, кэшаваныя копіі і вытворныя індэксы на працягу 30 дзён.                         |   1   | D/V  |
| 8.3.3 | Праверце, што лагічнае выдаленне суправаджаецца крыптаграфічным знішчэннем блокаў захоўвання, калі абсталяванне гэта падтрымлівае, альбо знішчэннем ключа ў сховішчы ключоў. |   2   |  D   |
| 8.3.4 | Праверце, што тэрмін дзеяння сплыўшых вектараў выключаны з вынікаў пошуку бліжэйшых суседзяў менш чым за 500 мс пасля сканчэння тэрміну дзеяння.                             |   3   | D/V  |

---

## C8.4 Перадухіленне інверсіі і ўцечкі ўбудавання

Апошнія абароны — накладанне шуму, праекцыйныя сеткі, парушэнне прыватнасці нейронаў і шыфраванне на ўзроўні прыкладанняў — могуць знізіць узровень інверсіі на ўзроўні токенаў ніжэй за 5%.

|   #   | Description                                                                                                                                                                     | Level | Role |
| :---: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| 8.4.1 | Праверце, што існуе фармальная мадэль пагроз, якая ахоплівае атакі інверсіі, чальцоўства і выяўлення атрыбутаў, і што яна пераглядаецца кожны год.                              |   1   |  V   |
| 8.4.2 | Праверце, ці забяспечвае шыфраванне на ўзроўні прыкладання або пошукавае шыфраванне абарону вектараў ад прамых чытанняў адміністратарамі інфраструктуры або персаналам воблака. |   2   | D/V  |
| 8.4.3 | Праверце, што параметры абароны (ε для DP, шум σ, ранг праекцыі k) збалансаваны так, каб прыватнасць была ≥ 99% абароны токенаў, а карыснасць — ≤ 3% страты дакладнасці.        |   3   |  V   |
| 8.4.4 | Праверце, што метрыкі ўстойлівасці да інверсіі з'яўляюцца часткай каналаў выпуску абнаўленняў мадэлі, з вызначанымі бюджэтамі рэгрэсіі.                                         |   3   | D/V  |

---

## C8.5 Забеспячэнне сферы прымянення для карыстальніцкай памяці

Перасоўванне дадзеных паміж арандатарамі застаецца галоўным рызыкай RAG: няправільна адфільтраваныя запыты па падабенстве могуць выявіць прыватныя дакументы іншага кліента.

|   #   | Description                                                                                                                                                                          | Level | Role |
| :---: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | :---: | :--: |
| 8.5.1 | Праверце, што кожны запыт на атрыманне даных пасля фільтрацыі па ідэнтыфікатары арандатара/карыстальніка, перш чым перадавацца ў запыт да LLM.                                       |   1   | D/V  |
| 8.5.2 | Праверце, што імёны калекцый або ідэнтыфікатары з прасторай імёнаў маюць соль для кожнага карыстальніка або арандатару, каб вектары не маглі супадаць паміж рознымі сферамі.         |   1   |  D   |
| 8.5.3 | Праверце, што вынікі падобнасці вышэй за канфігуравальны парог адлегласці, але па-за зонай адказнасці выклікаючага, адфільтроўваюцца і выклікаюць апавяшчэнні бяспекі.               |   2   | D/V  |
| 8.5.4 | Праверце, каб мультымэнтныя нагрузачныя тэсты імітавалі ворагізныя запыты, накіраваныя на атрыманне дакументаў за межамі дазволенай вобласці, і пакажыце адсутнасць уцечкі дадзеных. |   2   |  V   |
| 8.5.5 | Праверце, што шыфравальныя ключы раздзяляюцца для кожнага арандатара, забяспечваючы крыптаграфічную ізаляцыю нават у выпадку агульнага фізічнага захоўвання.                         |   3   | D/V  |

---

## C8.6 Пашыраная сістэма бяспекі памяці

Кантроль бяспекі для складаных архітэктур памяці, уключаючы эпізадычную, семантычную і працоўную памяць, з канкрэтнымі патрабаваннямі да ізаляцыі і праверкі.

|   #   | Description                                                                                                                                                                                                                                                 | Level | Role |
| :---: | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| 8.6.1 | Праверце, што розныя тыпы памяці (эпізадычная, семантычная, працоўная) маюць ізаляваныя кантэксты бяспекі з кантролем доступу на аснове роляў, асобнымі ключамі шыфравання і дакументаванымі ўзорамі доступу для кожнага тыпу памяці.                       |   1   | D/V  |
| 8.6.2 | Праверце, ці ўключаюць працэсы кансалідацыі памяці праверку бяспекі для прадухілення ўвядзення шкоднасных успамінаў шляхам ачышчэння зместу, верыфікацыі крыніц і праверак цэласнасці перад захоўваннем.                                                    |   2   | D/V  |
| 8.6.3 | Праверце, што запыты на здабыванне інфармацыі з памяці правяраюцца і ачышчаюцца, каб прадухіліць выманне несанкцыянаванай інфармацыі праз аналіз шаблонаў запытаў, прымяненне кантролю доступу і фільтраванне вынікаў.                                      |   2   | D/V  |
| 8.6.4 | Праверце, што механізмы забывання памяці бяспечна выдаляюць канфідэнцыйную інфармацыю з гарантыямі криптаграфічнага знішчэння з выкарыстаннем выдалення ключоў, шматразовага перазапісу або апаратнага бяспечнага выдалення з сертыфікатамі праверкі.       |   3   | D/V  |
| 8.6.5 | Праверце, што цэласнасць сістэмы памяці пастаянна кантралюецца на прадмет несанкцыянаваных змяненняў або пашкоджанняў з дапамогай кантрольных сум, аудытавых журналаў і аўтаматычных апавяшчэнняў пры зменах зместу памяці па-за межамі звычайных аперацый. |   3   | D/V  |

---

## Спасылкі

* [Vector database security: Pinecone – IronCore Labs](https://ironcorelabs.com/vectordbs/pinecone-security/)
* [Securing the Backbone of AI: Safeguarding Vector Databases and Embeddings – Privacera](https://privacera.com/blog/securing-the-backbone-of-ai-safeguarding-vector-databases-and-embeddings/)
* [Enhancing Data Security with RBAC of Qdrant Vector Database – AI Advances](https://ai.gopubby.com/enhancing-data-security-with-role-based-access-control-of-qdrant-vector-database-3878769bec83)
* [Mitigating Privacy Risks in LLM Embeddings from Embedding Inversion – arXiv](https://arxiv.org/html/2411.05034v1)
* [DPPN: Detecting and Perturbing Privacy-Sensitive Neurons – OpenReview](https://openreview.net/forum?id=DF5TVzpTW0)
* [Art. 17 GDPR – Right to Erasure](https://gdpr-info.eu/art-17-gdpr/)
* [Sensitive Data in Text Embeddings Is Recoverable – Tonic.ai](https://www.tonic.ai/blog/sensitive-data-in-text-embeddings-is-recoverable)
* [PII Identification and Removal – NVIDIA NeMo Docs](https://docs.nvidia.com/nemo-framework/user-guide/latest/datacuration/personalidentifiableinformationidentificationandremoval.html)
* [De-identifying Sensitive Data – Google Cloud DLP](https://cloud.google.com/sensitive-data-protection/docs/deidentify-sensitive-data)
* [Remove PII from Conversations Using Sensitive Information Filters – AWS Bedrock Guardrails](https://docs.aws.amazon.com/bedrock/latest/userguide/guardrails-sensitive-filters.html)
* [Think Your RAG Is Secure? Think Again – Medium](https://medium.com/%40vijay.poudel1/think-your-rag-is-secure-think-again-heres-how-to-actually-lock-it-down-c4c30e3864e7)
* [Design a Secure Multitenant RAG Inferencing Solution – Microsoft Learn](https://learn.microsoft.com/en-us/azure/architecture/ai-ml/guide/secure-multitenant-rag)
* [Best Practices for Multi-Tenancy RAG with Milvus – Milvus Blog](https://milvus.io/blog/build-multi-tenancy-rag-with-milvus-best-practices-part-one.md)

