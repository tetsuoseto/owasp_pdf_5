# أمن ذاكرة C8، والتضمينات، وقاعدة بيانات المتجهات

## هدف التحكم

تعمل التمثيلات المتجهية ومتاجر المتجهات كـ "الذاكرة الحية" لأنظمة الذكاء الاصطناعي المعاصرة، حيث تستقبل باستمرار البيانات التي يزودها المستخدم وتعتمدها مرة أخرى في سياقات النموذج من خلال التوليد المعزز بالاسترجاع (RAG). إذا تُركت هذه الذاكرة دون حوكمة، فقد تسرب المعلومات الشخصية التعريفية (PII)، أو تنتهك الموافقة، أو تُستخدم لعكس النص الأصلي وإعادة بنائه. الهدف من هذه المجموعة من الضوابط هو تعزيز أنابيب الذاكرة وقواعد بيانات المتجهات بحيث يكون الوصول بأقل صلاحيات ممكنة، وتكون التمثيلات المتجهية مراعِية للخصوصية، وتنتهي صلاحية المتجهات المخزنة أو يمكن إلغاءها عند الطلب، كما يجب ألا تلوث الذاكرة الخاصة بكل مستخدم مطالبات أو إكمالات المستخدم الآخر.

---

## C8.1 ضوابط الوصول على الذاكرة ومؤشرات RAG

فرض ضوابط وصول دقيقة على كل مجموعة من المتجهات.

|   #   | Description                                                                                                                                             | Level | Role |
| :---: | ------------------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| 8.1.1 | تحقق من أن قواعد التحكم في الوصول على مستوى الصف/مساحة الأسماء تقيد عمليات الإدراج، الحذف، والاستعلام لكل مستأجر، مجموعة، أو وسم مستند.                 |   1   | D/V  |
| 8.1.2 | تحقق من أن مفاتيح API أو رموز JWT تحمل مطالبات محددة النطاق (مثل معرفات المجموعات، أفعال الإجراءات) وأنه يتم تدويرها على الأقل ربعياً.                  |   1   | D/V  |
| 8.1.3 | تحقق من أن محاولات تصعيد الامتيازات (مثل استعلامات التشابه عبر النطاقات) يتم اكتشافها وتسجيلها في نظام إدارة معلومات وأحداث الأمان (SIEM) خلال 5 دقائق. |   2   | D/V  |
| 8.1.4 | تحقق من أن قاعدة بيانات المتجهات تسجل مراجعات السجل لمعرف الموضوع، العملية، معرف المتجه/المجال، عتبة التشابه، وعدد النتائج.                             |   2   | D/V  |
| 8.1.5 | تحقق من أن قرارات الوصول تُختبر للكشف عن عيوب التجاوز كلما تم ترقية المحركات أو تغيرت قواعد تقسيم الفهرس.                                               |   3   |  V   |

---

## C8.2 تعقيم وتحقق تضمين التعليمات البرمجية

قم بفحص النص مسبقًا للكشف عن المعلومات الشخصية المعروفة (PII)، وقم بحجبها أو تمويهها قبل تحويلها إلى متجهات، ويمكن اختيارياً معالجة التضمينات بعد ذلك لإزالة الإشارات المتبقية.

|   #   | Description                                                                                                                                                 | Level | Role |
| :---: | ----------------------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| 8.2.1 | تحقق من أن المعلومات الشخصية المعروفة (PII) والبيانات المنظمة يتم اكتشافها عبر مصنفات آلية ويتم إخفاؤها أو ترميزها أو حذفها قبل التضمين.                    |   1   | D/V  |
| 8.2.2 | تأكد من أن أنابيب التضمين ترفض أو تعزل المدخلات التي تحتوي على كود قابل للتنفيذ أو قطع غير بتنسيق UTF-8 والتي قد تضر بالفهرس.                               |   1   |  D   |
| 8.2.3 | تحقق من تطبيق تعقيم الخصوصية التفاضلية المحلية أو الإحصائية على تمثيلات الجمل التي تكون المسافة بينها وبين أي رمز معلومات شخصية معرف أقل من حد يمكن تكوينه. |   2   | D/V  |
| 8.2.4 | تحقق من أن فعالية التنقية (مثل استدعاء إزالة المعلومات الشخصية، الانحراف الدلالي) يتم التحقق منها على الأقل كل نصف عام مقابل مجموعات البيانات المرجعية.     |   2   |  V   |
| 8.2.5 | تحقق من أن إعدادات التنقية خاضعة للتحكم في الإصدارات وأن التغييرات تمر بمراجعة الأقران.                                                                     |   3   | D/V  |

---

## C8.3 انتهاء صلاحية الذاكرة، الإلغاء والحذف

يتطلب اللائحة العامة لحماية البيانات (GDPR) "الحق في أن تُنسى" والقوانين المماثلة الحذف الفوري؛ لذا يجب على مخازن المتجهات دعم أزمنة الحياة (TTL)، والحذف النهائي، وتقنية القبر (tomb-stoning) لضمان عدم إمكانية استرداد المتجهات الملغاة أو إعادة فهرستها.

|   #   | Description                                                                                                                           | Level | Role |
| :---: | ------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| 8.3.1 | تحقق من أن كل متجه وسجل بيانات وصفية يحملان علامة TTL أو علامة احتفاظ صريحة يتم احترامها بواسطة مهام التنظيف الآلية.                  |   1   | D/V  |
| 8.3.2 | تحقق من أن طلبات الحذف التي يبادر بها المستخدم تقوم بمسح المتجهات وبيانات التعريف ونسخ التخزين المؤقت والفهارس المشتقة خلال 30 يومًا. |   1   | D/V  |
| 8.3.3 | تحقق من أن الحذف المنطقي يتبعه تمزيق تشفير كتل التخزين إذا كانت الأجهزة تدعمه، أو عبر تدمير مفتاح خزنة المفاتيح.                      |   2   |  D   |
| 8.3.4 | تحقق من استبعاد المتجهات المنتهية الصلاحية من نتائج البحث عن الجار الأقرب في أقل من 500 مللي ثانية بعد انتهاء الصلاحية.               |   3   | D/V  |

---

## C8.4 منع عكس التضمين وتسربه

الدفاعات الحديثة — التراكب الضوضائي، شبكات الإسقاط، التغييرات في العصبونات الخصوصية، وتشفير طبقة التطبيق — يمكن أن تخفض معدلات الانعكاس على مستوى الرموز إلى أقل من 5%.

|   #   | Description                                                                                                                                             | Level | Role |
| :---: | ------------------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| 8.4.1 | تحقق من وجود نموذج تهديد رسمي يغطي هجمات الانعكاس، والهجمات القائمة على العضوية، وهجمات استنتاج السمات، ويتم مراجعته سنويًا.                            |   1   |  V   |
| 8.4.2 | تحقق من أن تشفير طبقة التطبيق أو التشفير القابل للبحث يحمي المتجهات من القراءة المباشرة بواسطة مسؤولي البنية التحتية أو موظفي السحابة.                  |   2   | D/V  |
| 8.4.3 | تحقق من أن معايير الدفاع (ε للخصوصية التفاضلية، وσ للضوضاء، ورتبة الإسقاط k) تحقق توازنًا بين الخصوصية ≥ 99% حماية الرموز والفائدة ≤ 3% فقدان في الدقة. |   3   |  V   |
| 8.4.4 | تأكد من أن مقاييس مقاومة الانعكاس هي جزء من بوابات الإصدار لتحديثات النموذج، مع تحديد ميزانيات التراجع.                                                 |   3   | D/V  |

---

## C8.5 تنفيذ النطاق للذاكرة الخاصة بالمستخدم

تسريب البيانات بين المستأجرين يظل من المخاطر الرئيسية في نظام البحث الاسترجاعي المُحسَّن: استعلامات التشابه غير المصفاة بشكل صحيح يمكن أن تكشف عن مستندات خاصة بمستخدم آخر.

|   #   | Description                                                                                                                                    | Level | Role |
| :---: | ---------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| 8.5.1 | تحقق من أن كل استعلام استرجاع يتم تصفيته بعد الإدخال بناءً على معرف المستأجر/المستخدم قبل تمريره إلى نموذج اللغة الكبير (LLM).                 |   1   | D/V  |
| 8.5.2 | تحقق من أن أسماء المجموعات أو معرفات المساحات المسموح بها مشفرة لكل مستخدم أو مستأجر بحيث لا يمكن أن تتصادم المتجهات عبر النطاقات.             |   1   |  D   |
| 8.5.3 | تحقق من أن نتائج التشابه التي تتجاوز عتبة مسافة يمكن تكوينها ولكنها خارج نطاق المتصل يتم تجاهلها وتؤدي إلى تنبيهات أمانية.                     |   2   | D/V  |
| 8.5.4 | تحقق من أن اختبارات الضغط متعددة المستأجرين تحاكي الاستعلامات العدائية التي تحاول استرداد المستندات خارج النطاق وتثبت عدم وجود تسرب للمعلومات. |   2   |  V   |
| 8.5.5 | تحقق من أن مفاتيح التشفير مفصولة لكل مستأجر، مما يضمن العزل التشفيري حتى إذا تمّ مشاركة التخزين الفعلي.                                        |   3   | D/V  |

---

## ج8.6 أمان النظام المتقدم للذاكرة

ضوابط الأمان لهياكل الذاكرة المتطورة بما في ذلك الذاكرة العرضية، والذاكرة الدلالية، والذاكرة العاملة مع متطلبات عزل وتحقق محددة.

|   #   | Description                                                                                                                                                                                                                      | Level | Role |
| :---: | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| 8.6.1 | تحقق من أن أنواع الذاكرة المختلفة (الذاكرة التقريرية، الذاكرة الدلالية، الذاكرة العاملة) تمتلك سياقات أمان معزولة مع ضوابط وصول مرتكزة على الأدوار، ومفاتيح تشفير منفصلة، وأنماط وصول موثقة لكل نوع من أنواع الذاكرة.            |   1   | D/V  |
| 8.6.2 | تحقق من أن عمليات ترسيخ الذاكرة تشمل التحقق الأمني لمنع حقن ذكريات خبيثة من خلال تنقية المحتوى، والتحقق من المصدر، وفحوصات السلامة قبل التخزين.                                                                                  |   2   | D/V  |
| 8.6.3 | تحقق من أن استعلامات استرجاع الذاكرة يتم التحقق منها وتطهيرها لمنع استخراج المعلومات غير المصرح بها من خلال تحليل نمط الاستعلام، وفرض التحكم في الوصول، وترشيح النتائج.                                                          |   2   | D/V  |
| 8.6.4 | تحقق من أن آليات نسيان الذاكرة تحذف المعلومات الحساسة بشكل آمن مع ضمانات الحذف التشفيري باستخدام حذف المفتاح، أو الكتابة المتعددة المراحل، أو الحذف الآمن المعتمد على الأجهزة مع شهادات التحقق.                                  |   3   | D/V  |
| 8.6.5 | تحقق من أن سلامة نظام الذاكرة تتم مراقبتها باستمرار للكشف عن أي تعديلات أو تلف غير مصرح به من خلال استخدام مجموعات التحقق (Checksums)، سجلات التدقيق، والتنبيهات الآلية عند حدوث تغيرات في محتوى الذاكرة خارج العمليات الطبيعية. |   3   | D/V  |

---

## المراجع

* [Vector database security: Pinecone – IronCore Labs](https://ironcorelabs.com/vectordbs/pinecone-security/)
* [Securing the Backbone of AI: Safeguarding Vector Databases and Embeddings – Privacera](https://privacera.com/blog/securing-the-backbone-of-ai-safeguarding-vector-databases-and-embeddings/)
* [Enhancing Data Security with RBAC of Qdrant Vector Database – AI Advances](https://ai.gopubby.com/enhancing-data-security-with-role-based-access-control-of-qdrant-vector-database-3878769bec83)
* [Mitigating Privacy Risks in LLM Embeddings from Embedding Inversion – arXiv](https://arxiv.org/html/2411.05034v1)
* [DPPN: Detecting and Perturbing Privacy-Sensitive Neurons – OpenReview](https://openreview.net/forum?id=DF5TVzpTW0)
* [Art. 17 GDPR – Right to Erasure](https://gdpr-info.eu/art-17-gdpr/)
* [Sensitive Data in Text Embeddings Is Recoverable – Tonic.ai](https://www.tonic.ai/blog/sensitive-data-in-text-embeddings-is-recoverable)
* [PII Identification and Removal – NVIDIA NeMo Docs](https://docs.nvidia.com/nemo-framework/user-guide/latest/datacuration/personalidentifiableinformationidentificationandremoval.html)
* [De-identifying Sensitive Data – Google Cloud DLP](https://cloud.google.com/sensitive-data-protection/docs/deidentify-sensitive-data)
* [Remove PII from Conversations Using Sensitive Information Filters – AWS Bedrock Guardrails](https://docs.aws.amazon.com/bedrock/latest/userguide/guardrails-sensitive-filters.html)
* [Think Your RAG Is Secure? Think Again – Medium](https://medium.com/%40vijay.poudel1/think-your-rag-is-secure-think-again-heres-how-to-actually-lock-it-down-c4c30e3864e7)
* [Design a Secure Multitenant RAG Inferencing Solution – Microsoft Learn](https://learn.microsoft.com/en-us/azure/architecture/ai-ml/guide/secure-multitenant-rag)
* [Best Practices for Multi-Tenancy RAG with Milvus – Milvus Blog](https://milvus.io/blog/build-multi-tenancy-rag-with-milvus-best-practices-part-one.md)

