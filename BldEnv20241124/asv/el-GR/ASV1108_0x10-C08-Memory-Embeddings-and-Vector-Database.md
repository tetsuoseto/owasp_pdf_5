# Ασφάλεια Μνήμης C8, Ενσωματώσεων και Βάσης Δεδομένων Διανυσμάτων

## Στόχος Ελέγχου

Οι ενσωματώσεις (embeddings) και οι αποθήκες διανυσμάτων λειτουργούν ως η «ζωντανή μνήμη» των σύγχρονων συστημάτων τεχνητής νοημοσύνης, δεχόμενα συνεχώς δεδομένα που παρέχονται από τον χρήστη και εμφανίζοντάς τα ξανά στο πλαίσιο των μοντέλων μέσω της Ανάκτησης-Ενισχυμένης Γεννήτριας (Retrieval-Augmented Generation, RAG). Εάν αυτή η μνήμη παραμείνει χωρίς διακυβέρνηση, μπορεί να διαρρεύσει προσωπικά αναγνωρίσιμες πληροφορίες (PII), να παραβιάσει τη συγκατάθεση ή να αντιστραφεί για να ανακατασκευάσει το αρχικό κείμενο. Ο στόχος αυτής της οικογένειας ελέγχων είναι η ενίσχυση των σωληνώσεων μνήμης και των βάσεων δεδομένων διανυσμάτων έτσι ώστε η πρόσβαση να είναι με δικαιώματα ελάχιστης προνομιακής χρήσης, οι ενσωματώσεις να διασφαλίζουν την προστασία της ιδιωτικότητας, τα αποθηκευμένα διανύσματα να λήγουν ή να μπορούν να αναιρεθούν κατόπιν ζήτησης, και η μνήμη ανά χρήστη να μην επιμολύνει ποτέ τις προτροπές ή τις ολοκληρώσεις άλλων χρηστών.

---

## C8.1 Έλεγχοι Πρόσβασης στη Μνήμη και τους Δείκτες RAG

Εφαρμόστε λεπτομερείς ελέγχους πρόσβασης σε κάθε συλλογή διανυσμάτων.

|   #   | Description                                                                                                                                                                                              | Level | Role |
| :---: | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| 8.1.1 | Επαληθεύστε ότι οι κανόνες ελέγχου πρόσβασης σε επίπεδο γραμμής/χώρου ονομάτων περιορίζουν τις λειτουργίες εισαγωγής, διαγραφής και ερωτήματος ανά ενοικιαστή, συλλογή ή ετικέτα εγγράφου.               |   1   | D/V  |
| 8.1.2 | Επαληθεύστε ότι τα κλειδιά API ή τα JWT φέρουν περιορισμένα δικαιώματα (π.χ., αναγνωριστικά συλλογών, ρήματα ενεργειών) και ανανεώνονται τουλάχιστον κάθε τρίμηνο.                                       |   1   | D/V  |
| 8.1.3 | Επιβεβαιώστε ότι οι απόπειρες κλιμάκωσης προνομίων (π.χ., ερωτήματα ομοιότητας μεταξύ χώρων ονομάτων) ανιχνεύονται και καταγράφονται σε ένα SIEM εντός 5 λεπτών.                                         |   2   | D/V  |
| 8.1.4 | Επιβεβαιώστε ότι η βάση δεδομένων διανυσμάτων καταγράφει στον έλεγχο τα εξής: αναγνωριστικό υποκειμένου, λειτουργία, αναγνωριστικό διανύσματος/χώρος ονομάτων, όριο ομοιότητας και πλήθος αποτελεσμάτων. |   2   | D/V  |
| 8.1.5 | Επαληθεύστε ότι οι αποφάσεις πρόσβασης εξετάζονται για παραβιάσεις παράκαμψης κάθε φορά που οι μηχανές αναβαθμίζονται ή αλλάζουν οι κανόνες διαχωρισμού ευρετηρίου.                                      |   3   |  V   |

---

## C8.2 Απολύμανση και Επικύρωση Ενθεμάτων

Προέλεγξε το κείμενο για Προσωπικά Αναγνωρίσιμα Στοιχεία (PII), απομάκρυνε ή ψευδωνυμοποίησε πριν από τη δημιουργία διανυσμάτων, και προαιρετικά επεξεργάσου εκ των υστέρων τις ενσωματώσεις για να αφαιρέσεις υπολειπόμενα σήματα.

|   #   | Description                                                                                                                                                                                                                                                                                                                 | Level | Role |
| :---: | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| 8.2.1 | Επιβεβαιώστε ότι τα προσωπικά αναγνωρίσιμα δεδομένα (PII) και τα ρυθμιζόμενα δεδομένα εντοπίζονται μέσω αυτοματοποιημένων ταξινομητών και καλύπτονται, μετατρέπονται σε τοκεν ή απορρίπτονται πριν την ενσωμάτωση.                                                                                                          |   1   | D/V  |
| 8.2.2 | Επιβεβαιώστε ότι οι γραμμές επεξεργασίας ενσωμάτωσης απορρίπτουν ή θέτουν σε καραντίνα τις εισόδους που περιέχουν εκτελέσιμο κώδικα ή μη UTF-8 αντικείμενα που θα μπορούσαν να μολύνουν τον ευρετήριο.                                                                                                                      |   1   |  D   |
| 8.2.3 | Επαληθεύστε ότι εφαρμόζεται τοπική ή μετρική διαφοροποιημένη απορρήτου απολύμανση (differential-privacy sanitization) στις ενσωματώσεις προτάσεων (sentence embeddings) των οποίων η απόσταση από οποιοδήποτε γνωστό διακριτό στοιχείο προσωπικά αναγνωρίσιμων πληροφοριών (PII token) είναι κάτω από ένα ρυθμιζόμενο όριο. |   2   | D/V  |
| 8.2.4 | Επαληθεύστε ότι η αποδοτικότητα της απενεργοποίησης (π.χ., ανάκληση της απόκρυψης προσωπικών δεδομένων, σημασιολογική παρέκκλιση) επικυρώνεται τουλάχιστον δύο φορές το χρόνο σε σύγκριση με πρότυπα σώματα κειμένων.                                                                                                       |   2   |  V   |
| 8.2.5 | Επαληθεύστε ότι οι ρυθμίσεις απολύμανσης ελέγχονται με έλεγχο εκδόσεων και ότι οι αλλαγές υπόκεινται σε αξιολόγηση από ομοτίμους.                                                                                                                                                                                           |   3   | D/V  |

---

## C8.3 Λήξη Μνήμης, Ανάκληση και Διαγραφή

Ο GDPR και οι παρόμοιοι νόμοι για το "δικαίωμα στη λήθη" απαιτούν έγκαιρη διαγραφή· οι αποθήκες διανυσμάτων πρέπει επομένως να υποστηρίζουν TTL (χρόνος ζωής), οριστικές διαγραφές και τεχνικές tomb-stoning, ώστε τα ανακληθέντα διανύσματα να μην μπορούν να ανακτηθούν ή να επανευρετηθούν.

|   #   | Description                                                                                                                                                                                   | Level | Role |
| :---: | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| 8.3.1 | Επαληθεύστε ότι κάθε διάνυσμα και εγγραφή μεταδεδομένων φέρει μια Ελάχιστη Διάρκεια Ζωής (TTL) ή μια ρητή ετικέτα διατήρησης που τηρείται από αυτοματοποιημένες εργασίες καθαρισμού.          |   1   | D/V  |
| 8.3.2 | Επιβεβαιώστε ότι τα αιτήματα διαγραφής που ξεκινούν από τον χρήστη διαγράφουν τα διανύσματα, τα μεταδεδομένα, τα αντίγραφα προσωρινής μνήμης και τα παράγωγα ευρετήρια εντός 30 ημερών.       |   1   | D/V  |
| 8.3.3 | Επαληθεύστε ότι οι λογικές διαγραφές ακολουθούνται από κρυπτογραφική καταστροφή των μπλοκ αποθήκευσης εάν το υλικό το υποστηρίζει, ή από καταστροφή των κλειδιών στο θησαυροφυλάκιο κλειδιών. |   2   |  D   |
| 8.3.4 | Επαληθεύστε ότι οι διαγραμμένοι (expired) διανύσματα εξαιρούνται από τα αποτελέσματα της αναζήτησης πλησιέστερων γειτόνων σε λιγότερο από 500 ms μετά τη λήξη τους.                           |   3   | D/V  |

---

## C8.4 Αποτροπή Αντιστροφής Ενσωμάτωσης και Διαρροής

Οι πρόσφατες άμυνες — επικάλυψη θορύβου, δίκτυα προβολής, διατάραξη νευρώνων ιδιωτικότητας και κρυπτογράφηση επιπέδου εφαρμογής — μπορούν να μειώσουν τα ποσοστά αναστροφής σε επίπεδο τοκεν κάτω από 5%.

|   #   | Description                                                                                                                                                                            | Level | Role |
| :---: | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| 8.4.1 | Επαληθεύστε ότι υπάρχει ένα επίσημο μοντέλο απειλής που καλύπτει επιθέσεις αντιστροφής, συμμετοχής και συμπερασμού χαρακτηριστικών και ότι αναθεωρείται ετησίως.                       |   1   |  V   |
| 8.4.2 | Επιβεβαιώστε ότι η κρυπτογράφηση στο επίπεδο εφαρμογής ή η αναζητήσιμη κρυπτογράφηση προστατεύει τα διανύσματα από απευθείας αναγνώσεις από διαχειριστές υποδομής ή προσωπικό cloud.   |   2   | D/V  |
| 8.4.3 | Επαληθεύστε ότι οι παράμετροι άμυνας (ε για DP, θόρυβος σ, βαθμός προβολής k) ισορροπούν την προστασία της ιδιωτικότητας ≥ 99% των tokens και τη χρηστικότητα ≤ 3% απώλειας ακρίβειας. |   3   |  V   |
| 8.4.4 | Επαληθεύστε ότι οι μετρικές ανθεκτικότητας στην αναστροφή αποτελούν μέρος των πυλών έκδοσης για ενημερώσεις μοντέλων, με καθορισμένους προϋπολογισμούς παλινδρόμησης.                  |   3   | D/V  |

---

## C8.5 Εφαρμογή Περιορισμών για Μνήμη Ειδική Χρήστη

Η διαρροή μεταξύ ενοικιαστών παραμένει κορυφαίος κίνδυνος για το RAG: τα ερωτήματα ομοιότητας που φιλτράρονται ανεπαρκώς μπορεί να αποκαλύψουν τα ιδιωτικά έγγραφα άλλου πελάτη.

|   #   | Description                                                                                                                                                                               | Level | Role |
| :---: | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| 8.5.1 | Επαληθεύστε ότι κάθε ερώτημα ανάκτησης φιλτράρεται εκ των υστέρων με βάση το αναγνωριστικό μισθωτή/χρήστη πριν περάσει στην υποβολή ερωτήματος του Μεγάλου Γλωσσικού Μοντέλου (LLM).      |   1   | D/V  |
| 8.5.2 | Επαληθεύστε ότι τα ονόματα συλλογών ή τα ονόματα με χώρο ονομάτων (namespaced IDs) αλατίζονται ανά χρήστη ή ενοικιαστή ώστε οι διανύσματα να μην συγκρούονται μεταξύ διαφορετικών πεδίων. |   1   |  D   |
| 8.5.3 | Επαληθεύστε ότι τα αποτελέσματα ομοιότητας πάνω από ένα διαμορφώσιμο όριο απόστασης αλλά εκτός του πεδίου εφαρμογής του καλούντος απορρίπτονται και ενεργοποιούν ειδοποιήσεις ασφαλείας.  |   2   | D/V  |
| 8.5.4 | Επαληθεύστε ότι οι δοκιμές φόρτου πολλαπλών ενοικιαστών προσομοιώνουν επιθετικές ερωτήσεις που προσπαθούν να ανακτήσουν έγγραφα εκτός πεδίου και να αποδείξουν μηδενική διαρροή.          |   2   |  V   |
| 8.5.5 | Επαληθεύστε ότι τα κλειδιά κρυπτογράφησης διαχωρίζονται ανά ενοικιαστή, εξασφαλίζοντας κρυπτογραφική απομόνωση ακόμη και αν ο φυσικός αποθηκευτικός χώρος είναι κοινός.                   |   3   | D/V  |

---

## C8.6 Προηγμένη Ασφάλεια Συστήματος Μνήμης

Έλεγχοι ασφάλειας για εξελιγμένες αρχιτεκτονικές μνήμης που περιλαμβάνουν επεισοδιακή, σημασιολογική και εργαζόμενη μνήμη με συγκεκριμένες απαιτήσεις απομόνωσης και επικύρωσης.

|   #   | Description                                                                                                                                                                                                                                                                                                | Level | Role |
| :---: | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---: | :--: |
| 8.6.1 | Επαληθεύστε ότι οι διαφορετικοί τύποι μνήμης (επεισοδιακή, σημασιολογική, εργασίας) έχουν απομονωμένα πλαίσια ασφάλειας με ελέγχους πρόσβασης βάσει ρόλων, ξεχωριστά κλειδιά κρυπτογράφησης και τεκμηριωμένα μοτίβα πρόσβασης για κάθε τύπο μνήμης.                                                        |   1   | D/V  |
| 8.6.2 | Επιβεβαιώστε ότι οι διαδικασίες ενοποίησης μνήμης περιλαμβάνουν επικύρωση ασφαλείας για την αποτροπή εισαγωγής κακόβουλων αναμνήσεων μέσω απολύμανσης περιεχομένου, επαλήθευσης πηγής και ελέγχων ακεραιότητας πριν από την αποθήκευση.                                                                    |   2   | D/V  |
| 8.6.3 | Επιβεβαιώστε ότι τα ερωτήματα ανάκτησης μνήμης επικυρώνονται και καθαρίζονται για να αποτρέψουν την εξαγωγή μη εξουσιοδοτημένων πληροφοριών μέσω ανάλυσης προτύπων ερωτημάτων, εφαρμογής ελέγχου πρόσβασης και φιλτραρίσματος αποτελεσμάτων.                                                               |   2   | D/V  |
| 8.6.4 | Επαληθεύστε ότι οι μηχανισμοί λήθης μνήμης διαγράφουν με ασφάλεια ευαίσθητες πληροφορίες με εγγυήσεις κρυπτογραφικής εκκαθάρισης χρησιμοποιώντας διαγραφή κλειδιού, πολλαπλή επανάληψη εγγραφής ή διαγραφή με ασφάλεια βασισμένη σε υλικό με πιστοποιητικά επαλήθευσης.                                    |   3   | D/V  |
| 8.6.5 | Επαληθεύστε ότι η ακεραιότητα του συστήματος μνήμης παρακολουθείται συνεχώς για μη εξουσιοδοτημένες τροποποιήσεις ή ζημιά μέσω αθροισμάτων ελέγχου (checksums), αρχείων καταγραφής ελέγχου (audit logs) και αυτόματων ειδοποιήσεων όταν το περιεχόμενο της μνήμης αλλάζει εκτός των κανονικών λειτουργιών. |   3   | D/V  |

---

## Αναφορές

* [Vector database security: Pinecone – IronCore Labs](https://ironcorelabs.com/vectordbs/pinecone-security/)
* [Securing the Backbone of AI: Safeguarding Vector Databases and Embeddings – Privacera](https://privacera.com/blog/securing-the-backbone-of-ai-safeguarding-vector-databases-and-embeddings/)
* [Enhancing Data Security with RBAC of Qdrant Vector Database – AI Advances](https://ai.gopubby.com/enhancing-data-security-with-role-based-access-control-of-qdrant-vector-database-3878769bec83)
* [Mitigating Privacy Risks in LLM Embeddings from Embedding Inversion – arXiv](https://arxiv.org/html/2411.05034v1)
* [DPPN: Detecting and Perturbing Privacy-Sensitive Neurons – OpenReview](https://openreview.net/forum?id=DF5TVzpTW0)
* [Art. 17 GDPR – Right to Erasure](https://gdpr-info.eu/art-17-gdpr/)
* [Sensitive Data in Text Embeddings Is Recoverable – Tonic.ai](https://www.tonic.ai/blog/sensitive-data-in-text-embeddings-is-recoverable)
* [PII Identification and Removal – NVIDIA NeMo Docs](https://docs.nvidia.com/nemo-framework/user-guide/latest/datacuration/personalidentifiableinformationidentificationandremoval.html)
* [De-identifying Sensitive Data – Google Cloud DLP](https://cloud.google.com/sensitive-data-protection/docs/deidentify-sensitive-data)
* [Remove PII from Conversations Using Sensitive Information Filters – AWS Bedrock Guardrails](https://docs.aws.amazon.com/bedrock/latest/userguide/guardrails-sensitive-filters.html)
* [Think Your RAG Is Secure? Think Again – Medium](https://medium.com/%40vijay.poudel1/think-your-rag-is-secure-think-again-heres-how-to-actually-lock-it-down-c4c30e3864e7)
* [Design a Secure Multitenant RAG Inferencing Solution – Microsoft Learn](https://learn.microsoft.com/en-us/azure/architecture/ai-ml/guide/secure-multitenant-rag)
* [Best Practices for Multi-Tenancy RAG with Milvus – Milvus Blog](https://milvus.io/blog/build-multi-tenancy-rag-with-milvus-best-practices-part-one.md)

